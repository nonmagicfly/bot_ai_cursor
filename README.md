# Telegram-бот для записи силовых упражнений

Бот для создания программ тренировок и отслеживания выполнения силовых упражнений.

## Технологии

- **aiogram 3.x** - библиотека для работы с Telegram Bot API
- **aiosqlite** - асинхронная работа с SQLite
- **python-dotenv** - управление переменными окружения

## Структура проекта

```
.
├── bot.py              # Основной файл бота
├── db_init.py          # Скрипт инициализации базы данных
├── requirements.txt    # Зависимости проекта
├── .env.example        # Пример файла с переменными окружения
├── README.md           # Документация
└── data/               # Папка для базы данных SQLite
    └── workout.db      # База данных (создаётся автоматически)
```

## Установка

1. Установите зависимости:
```bash
pip install -r requirements.txt
```

2. Создайте файл `.env` на основе `env.example` (или `.env.example` если доступен):
```bash
# Windows PowerShell
Copy-Item env.example .env

# Linux/Mac
cp env.example .env
```

3. Получите токен бота у [@BotFather](https://t.me/BotFather) и добавьте в `.env`:
```
BOT_TOKEN=your_bot_token_here
```

4. Инициализируйте базу данных:
```bash
python db_init.py
```

## Запуск

```bash
python bot.py
```

## Функционал

### 1. Управление программами тренировок
- `/newprogram` - создание новой программы тренировок
- `/programs` - список всех программ (активных и архивных)
- `/deleteall` - удаление всех программ и записей
- Формат создания: сначала название, затем упражнения в формате "упражнение\подходы"
- Все программы остаются активными (не архивируются автоматически)

### 2. Выполнение тренировки
- `/startworkout` - запуск процесса тренировки
- Выбор активной программы через inline-кнопки
- Вывод упражнений по порядку
- Запрос веса для каждого подхода
- Автоматическое сохранение данных в базу

### 3. Отчёты
- `/report` - просмотр статистики
- Отчёты за день / неделю / всё время
- Формат: все веса для упражнения выводятся через запятую

## База данных

Используется SQLite для локального хранения данных:
- Программы тренировок
- Дни программы
- Упражнения
- Записи выполнения тренировок

## Команды бота

- `/start` - приветствие и список команд
- `/newprogram` - создать новую программу тренировок
- `/programs` - список всех программ
- `/startworkout` - начать тренировку
- `/report` - просмотреть отчёты
- `/deleteall` - удалить все программы

## Особенности

- Все программы остаются активными (можно иметь несколько программ одновременно)
- Программы сортируются по дате создания (старые первыми)
- Отчёты группируют веса по упражнениям для удобного просмотра
- Валидация ввода веса с повторным запросом при ошибке
